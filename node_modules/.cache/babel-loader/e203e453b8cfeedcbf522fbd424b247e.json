{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\src\\\\components\\\\DeleteUser.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Table, Button } from \"react-bootstrap\"; //import { Nav} from \"react-bootstrap\";\n//import 'bootstrap/dist/css/bootstrap-theme.css';\n\nimport \"./css/style.css\";\nimport axios from \"axios\";\nvar n = 1;\nvar totalResults = 0;\n\nclass DeleteUser extends Component {\n  constructor(props) {\n    super(props);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n    this.state = {\n      persons: [],\n      message: \"\",\n      messageDelete: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`https://idea-app-backend.herokuapp.com/person/pages`).then(response => {\n      totalResults = response.data.totalResult;\n      this.setState({\n        totalResult: response.data.totalResult\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get(`https://idea-app-backend.herokuapp.com/person/pages?page=1`).then(response => {\n      this.setState({\n        persons: response.data.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  nextPage() {\n    if (n < Math.ceil(totalResults / 10)) {\n      n++;\n      this.setState({\n        message: \"\"\n      });\n    } else {\n      this.setState({\n        message: \"Last Page Reached!\"\n      });\n    } //db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\n\n\n    axios.get(`https://idea-app-backend.herokuapp.com/person/pages?page=${n}`).then(response => {\n      this.setState({\n        persons: response.data.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  previousPage() {\n    if (n >= 2) {\n      n--;\n      this.setState({\n        message: \"\"\n      });\n    } else {\n      this.setState({\n        message: \"Already at first Page!\"\n      });\n    } //db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\n\n\n    axios.get(`https://idea-app-backend.herokuapp.com/person/pages?page=${n}`).then(response => {\n      this.setState({\n        persons: response.data.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  async deleteUser(e) {\n    // eslint-disable-next-line no-restricted-globals\n    var result = confirm(\"Want to delete?\");\n\n    if (result) {\n      //Logic to delete the item\n      await axios.delete(`https://idea-app-backend.herokuapp.com/person/${e.target.id}`).then(console.log(\"deleted\") //this.forceUpdate();\n      //window.location= '/deleteuser';\n      ).catch(error => {\n        console.log(error);\n      });\n      await axios.get(\"https://idea-app-backend.herokuapp.com/person/pages\").then(response => {\n        this.setState({\n          persons: response.data.data,\n          messageDelete: \"Record Successfully Deleted!\"\n        }, () => {\n          console.log(this.state.persons);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  } //     if (result) {\n  //   }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wrap\",\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"green\"\n      },\n      className: \"label label-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, this.state.messageDelete), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, \"Select a Idea, You to Delete\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      size: \"md\",\n      bordered: true,\n      striped: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, \"PortalID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Idea\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Solution\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, \"Date Submitted\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, \"Email Id\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, \"Account\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, \"Department\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, \"Focus Area\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, this.state.persons.map(person => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, person.portalID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, person.fname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, person.lname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 23\n      }\n    }, person.problem), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 23\n      }\n    }, person.solution), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 23\n      }\n    }, person.date), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }\n    }, person.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }, person.account), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, person.department), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 23\n      }\n    }, person.focusArea), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: person._id,\n      onClick: this.deleteUser,\n      className: \"btn btn-danger btn-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, \"Delete\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-secondary\",\n      onClick: this.previousPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, \"Back\"), \" \", /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-secondary\",\n      onClick: this.nextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, \"Next\"), \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, this.state.message)));\n  }\n\n}\n\nexport default DeleteUser;","map":{"version":3,"sources":["C:/Users/shubham/Desktop/idea-app-frontend/src/components/DeleteUser.js"],"names":["React","Component","Table","Button","axios","n","totalResults","DeleteUser","constructor","props","deleteUser","bind","nextPage","previousPage","state","persons","message","messageDelete","componentDidMount","get","then","response","data","totalResult","setState","catch","error","console","log","Math","ceil","e","result","confirm","delete","target","id","render","color","map","person","portalID","fname","lname","problem","solution","date","email","account","department","focusArea","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Table, Button } from \"react-bootstrap\";\n//import { Nav} from \"react-bootstrap\";\n//import 'bootstrap/dist/css/bootstrap-theme.css';\nimport \"./css/style.css\";\nimport axios from \"axios\";\n\nvar n = 1;\nvar totalResults = 0;\n\nclass DeleteUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteUser = this.deleteUser.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n\n    this.state = {\n      persons: [],\n      message: \"\",\n      messageDelete: \"\",\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages`)\n      .then((response) => {\n        totalResults = response.data.totalResult;\n        this.setState({\n          totalResult: response.data.totalResult,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages?page=1`)\n      .then((response) => {\n        this.setState({\n          persons: response.data.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  nextPage() {\n    if (n < Math.ceil(totalResults / 10)) {\n      n++;\n\n      this.setState({\n        message: \"\",\n      });\n    } else {\n      this.setState({\n        message: \"Last Page Reached!\",\n      });\n    }\n    //db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages?page=${n}`)\n      .then((response) => {\n        this.setState({\n          persons: response.data.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  previousPage() {\n    if (n >= 2) {\n      n--;\n      this.setState({\n        message: \"\",\n      });\n    } else {\n      this.setState({\n        message: \"Already at first Page!\",\n      });\n    }\n    //db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages?page=${n}`)\n      .then((response) => {\n        this.setState({\n          persons: response.data.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  async deleteUser(e) {\n    // eslint-disable-next-line no-restricted-globals\n    var result = confirm(\"Want to delete?\");\n    if (result) {\n      //Logic to delete the item\n\n      await axios\n        .delete(`https://idea-app-backend.herokuapp.com/person/${e.target.id}`)\n        .then(\n          console.log(\"deleted\")\n\n          //this.forceUpdate();\n          //window.location= '/deleteuser';\n        )\n        .catch((error) => {\n          console.log(error);\n        });\n\n      await axios\n        .get(\"https://idea-app-backend.herokuapp.com/person/pages\")\n        .then((response) => {\n          this.setState(\n            {\n              persons: response.data.data,\n              messageDelete: \"Record Successfully Deleted!\",\n            },\n            () => {\n              console.log(this.state.persons);\n            }\n          );\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n\n  //     if (result) {\n\n  //   }\n\n  render() {\n    return (\n      <div id=\"wrap\" className=\"\">\n        <br />\n        <br />\n        <div className=\"container align-items-center\">\n          <h3 style={{ color: \"green\" }} className=\"label label-success\">\n            {this.state.messageDelete}\n          </h3>\n\n          <h1>Select a Idea, You to Delete</h1>\n          <br />\n\n          <div className=\"table-responsive\">\n            <div className=\"table-responsive\">\n              <Table responsive size=\"md\" bordered striped hover>\n                <thead>\n                  <tr>\n                    <th>PortalID</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Idea</th>\n                    <th>Solution</th>\n                    <th>Date Submitted</th>\n                    <th>Email Id</th>\n                    <th>Account</th>\n                    <th>Department</th>\n                    <th>Focus Area</th>\n                    <th>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.persons.map((person) => (\n                    <tr>\n                      <td>{person.portalID}</td>\n                      <td>{person.fname}</td>\n                      <td>{person.lname}</td>\n                      <td>{person.problem}</td>\n                      <td>{person.solution}</td>\n                      <td>{person.date}</td>\n                      <td>{person.email}</td>\n                      <td>{person.account}</td>\n                      <td>{person.department}</td>\n                      <td>{person.focusArea}</td>\n\n                      <td>\n                        <button\n                          type=\"button\"\n                          id={person._id}\n                          onClick={this.deleteUser}\n                          className=\"btn btn-danger btn-sm\"\n                        >\n                          Delete\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          </div>\n\n          <div className=\"button\">\n            <Button variant=\"outline-secondary\" onClick={this.previousPage}>\n              Back\n            </Button>{\" \"}\n            <Button variant=\"outline-secondary\" onClick={this.nextPage}>\n              Next\n            </Button>{\" \"}\n          </div>\n          <h3 style={{ color: \"red\" }}>{this.state.message}</h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DeleteUser;\n"]},"metadata":{},"sourceType":"module"}