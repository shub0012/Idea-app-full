{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\shubham\\\\Desktop\\\\idea-app-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"bootstrap/dist/css/bootstrap.css\";import{Table,Button}from\"react-bootstrap\";//import { Nav} from \"react-bootstrap\";\n//import 'bootstrap/dist/css/bootstrap-theme.css';\nimport\"./css/style.css\";import axios from\"axios\";var n=1;var totalResults=0;var DeleteUser=/*#__PURE__*/function(_Component){_inherits(DeleteUser,_Component);var _super=_createSuper(DeleteUser);function DeleteUser(props){var _this;_classCallCheck(this,DeleteUser);_this=_super.call(this,props);_this.deleteUser=_this.deleteUser.bind(_assertThisInitialized(_this));_this.nextPage=_this.nextPage.bind(_assertThisInitialized(_this));_this.previousPage=_this.previousPage.bind(_assertThisInitialized(_this));_this.state={persons:[],message:\"\",messageDelete:\"\"};return _this;}_createClass(DeleteUser,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"https://idea-app-backend.herokuapp.com/person/pages\").then(function(response){totalResults=response.data.totalResult;_this2.setState({totalResult:response.data.totalResult});}).catch(function(error){console.log(error);});axios.get(\"https://idea-app-backend.herokuapp.com/person/pages?page=1\").then(function(response){_this2.setState({persons:response.data.data});}).catch(function(error){console.log(error);});}},{key:\"nextPage\",value:function nextPage(){var _this3=this;if(n<Math.ceil(totalResults/10)){n++;this.setState({message:\"\"});}else{this.setState({message:\"Last Page Reached!\"});}//db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\naxios.get(\"https://idea-app-backend.herokuapp.com/person/pages?page=\".concat(n)).then(function(response){_this3.setState({persons:response.data.data});}).catch(function(error){console.log(error);});}},{key:\"previousPage\",value:function previousPage(){var _this4=this;if(n>=2){n--;this.setState({message:\"\"});}else{this.setState({message:\"Already at first Page!\"});}//db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\naxios.get(\"https://idea-app-backend.herokuapp.com/person/pages?page=\".concat(n)).then(function(response){_this4.setState({persons:response.data.data});}).catch(function(error){console.log(error);});}},{key:\"deleteUser\",value:function(){var _deleteUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this5=this;var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// eslint-disable-next-line no-restricted-globals\nresult=confirm(\"Want to delete?\");if(!result){_context.next=6;break;}_context.next=4;return axios.delete(\"https://idea-app-backend.herokuapp.com/person/\".concat(e.target.id)).then(console.log(\"deleted\")//this.forceUpdate();\n//window.location= '/deleteuser';\n).catch(function(error){console.log(error);});case 4:_context.next=6;return axios.get(\"https://idea-app-backend.herokuapp.com/person/pages\").then(function(response){_this5.setState({persons:response.data.data,messageDelete:\"Record Successfully Deleted!\"},function(){console.log(_this5.state.persons);});}).catch(function(error){console.log(error);});case 6:case\"end\":return _context.stop();}}},_callee);}));function deleteUser(_x){return _deleteUser.apply(this,arguments);}return deleteUser;}()//     if (result) {\n//   }\n},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"wrap\",className:\"\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container align-items-center\"},/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"green\"},className:\"label label-success\"},this.state.messageDelete),/*#__PURE__*/React.createElement(\"h1\",null,\"Select a Idea, You to Delete\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{responsive:true,size:\"md\",bordered:true,striped:true,hover:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"PortalID\"),/*#__PURE__*/React.createElement(\"th\",null,\"First Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Last Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Idea\"),/*#__PURE__*/React.createElement(\"th\",null,\"Solution\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date Submitted\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email Id\"),/*#__PURE__*/React.createElement(\"th\",null,\"Account\"),/*#__PURE__*/React.createElement(\"th\",null,\"Department\"),/*#__PURE__*/React.createElement(\"th\",null,\"Focus Area\"),/*#__PURE__*/React.createElement(\"th\",null,\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.persons.map(function(person){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,person.portalID),/*#__PURE__*/React.createElement(\"td\",null,person.fname),/*#__PURE__*/React.createElement(\"td\",null,person.lname),/*#__PURE__*/React.createElement(\"td\",null,person.problem),/*#__PURE__*/React.createElement(\"td\",null,person.solution),/*#__PURE__*/React.createElement(\"td\",null,person.date),/*#__PURE__*/React.createElement(\"td\",null,person.email),/*#__PURE__*/React.createElement(\"td\",null,person.account),/*#__PURE__*/React.createElement(\"td\",null,person.department),/*#__PURE__*/React.createElement(\"td\",null,person.focusArea),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",id:person._id,onClick:_this6.deleteUser,className:\"btn btn-danger btn-sm\"},\"Delete\")));}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"button\"},/*#__PURE__*/React.createElement(Button,{variant:\"outline-secondary\",onClick:this.previousPage},\"Back\"),\" \",/*#__PURE__*/React.createElement(Button,{variant:\"outline-secondary\",onClick:this.nextPage},\"Next\"),\" \"),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"red\"}},this.state.message)));}}]);return DeleteUser;}(Component);export default DeleteUser;","map":{"version":3,"sources":["C:/Users/shubham/Desktop/idea-app-frontend/src/components/DeleteUser.js"],"names":["React","Component","Table","Button","axios","n","totalResults","DeleteUser","props","deleteUser","bind","nextPage","previousPage","state","persons","message","messageDelete","get","then","response","data","totalResult","setState","catch","error","console","log","Math","ceil","e","result","confirm","delete","target","id","color","map","person","portalID","fname","lname","problem","solution","date","email","account","department","focusArea","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Table, Button } from \"react-bootstrap\";\n//import { Nav} from \"react-bootstrap\";\n//import 'bootstrap/dist/css/bootstrap-theme.css';\nimport \"./css/style.css\";\nimport axios from \"axios\";\n\nvar n = 1;\nvar totalResults = 0;\n\nclass DeleteUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteUser = this.deleteUser.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n\n    this.state = {\n      persons: [],\n      message: \"\",\n      messageDelete: \"\",\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages`)\n      .then((response) => {\n        totalResults = response.data.totalResult;\n        this.setState({\n          totalResult: response.data.totalResult,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages?page=1`)\n      .then((response) => {\n        this.setState({\n          persons: response.data.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  nextPage() {\n    if (n < Math.ceil(totalResults / 10)) {\n      n++;\n\n      this.setState({\n        message: \"\",\n      });\n    } else {\n      this.setState({\n        message: \"Last Page Reached!\",\n      });\n    }\n    //db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages?page=${n}`)\n      .then((response) => {\n        this.setState({\n          persons: response.data.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  previousPage() {\n    if (n >= 2) {\n      n--;\n      this.setState({\n        message: \"\",\n      });\n    } else {\n      this.setState({\n        message: \"Already at first Page!\",\n      });\n    }\n    //db.comments.find().skip(pagesize * (n-1)).limit(pagesize);\n    axios\n      .get(`https://idea-app-backend.herokuapp.com/person/pages?page=${n}`)\n      .then((response) => {\n        this.setState({\n          persons: response.data.data,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  async deleteUser(e) {\n    // eslint-disable-next-line no-restricted-globals\n    var result = confirm(\"Want to delete?\");\n    if (result) {\n      //Logic to delete the item\n\n      await axios\n        .delete(`https://idea-app-backend.herokuapp.com/person/${e.target.id}`)\n        .then(\n          console.log(\"deleted\")\n\n          //this.forceUpdate();\n          //window.location= '/deleteuser';\n        )\n        .catch((error) => {\n          console.log(error);\n        });\n\n      await axios\n        .get(\"https://idea-app-backend.herokuapp.com/person/pages\")\n        .then((response) => {\n          this.setState(\n            {\n              persons: response.data.data,\n              messageDelete: \"Record Successfully Deleted!\",\n            },\n            () => {\n              console.log(this.state.persons);\n            }\n          );\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }\n\n  //     if (result) {\n\n  //   }\n\n  render() {\n    return (\n      <div id=\"wrap\" className=\"\">\n        <br />\n        <br />\n        <div className=\"container align-items-center\">\n          <h3 style={{ color: \"green\" }} className=\"label label-success\">\n            {this.state.messageDelete}\n          </h3>\n\n          <h1>Select a Idea, You to Delete</h1>\n          <br />\n\n          <div className=\"table-responsive\">\n            <div className=\"table-responsive\">\n              <Table responsive size=\"md\" bordered striped hover>\n                <thead>\n                  <tr>\n                    <th>PortalID</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Idea</th>\n                    <th>Solution</th>\n                    <th>Date Submitted</th>\n                    <th>Email Id</th>\n                    <th>Account</th>\n                    <th>Department</th>\n                    <th>Focus Area</th>\n                    <th>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.persons.map((person) => (\n                    <tr>\n                      <td>{person.portalID}</td>\n                      <td>{person.fname}</td>\n                      <td>{person.lname}</td>\n                      <td>{person.problem}</td>\n                      <td>{person.solution}</td>\n                      <td>{person.date}</td>\n                      <td>{person.email}</td>\n                      <td>{person.account}</td>\n                      <td>{person.department}</td>\n                      <td>{person.focusArea}</td>\n\n                      <td>\n                        <button\n                          type=\"button\"\n                          id={person._id}\n                          onClick={this.deleteUser}\n                          className=\"btn btn-danger btn-sm\"\n                        >\n                          Delete\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          </div>\n\n          <div className=\"button\">\n            <Button variant=\"outline-secondary\" onClick={this.previousPage}>\n              Back\n            </Button>{\" \"}\n            <Button variant=\"outline-secondary\" onClick={this.nextPage}>\n              Next\n            </Button>{\" \"}\n          </div>\n          <h3 style={{ color: \"red\" }}>{this.state.message}</h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DeleteUser;\n"]},"metadata":{},"sourceType":"module"}